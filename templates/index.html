<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Secure File Sharing</title>
    <style>
      body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 0 16px; }
      h1 { color: #222; }
      .file-list { margin-top: 24px; }
      .file-item { margin-bottom: 8px; }
      .notice { color: #666; font-size: 0.9em; margin-top: 12px; }
      button { padding: 6px 10px; }
    </style>
</head>
<body>
    <h1>Secure File Sharing — Upload & Download (AES Encrypted)</h1>

    <form method="post" enctype="multipart/form-data">
        <label>
          Choose a file:
          <input type="file" name="file" required>
        </label>
        <button type="submit">Upload & Encrypt</button>
    </form>

    <p class="notice">After upload the file is stored encrypted as <code>yourfilename.ext.enc</code> in the <code>uploads/</code> folder.</p>

    <div class="file-list">
        <h2>Available files</h2>
        {% if files %}
            <ul>
                {% for f in files %}
                <li class="file-item">
                    {{ f }} — <a href="{{ url_for('download', filename=f) }}">Download & Decrypt</a>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No uploaded files yet.</p>
        {% endif %}
    </div>
</body>
</html>
